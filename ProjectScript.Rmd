---
title: "Project Script"
output: html_notebook
---

This script loads in, cleans, and analyzes our project data from the course. 

Roadmap: 

0. Load in packages, metadata, and batch-processed file
1. Clean batch-processed file according to John's tutorial
2. Qualitatively compare to manual file for aster and lupine
3. Visually check output file with built-in graphics
4. Run statistics on final output file
5. Create visuals for presentation

# 0. Load everything in

Install and load in *bouquet* package

```{r}
#install.packages("remotes")
remotes::install_github("jmpowers/bouquet", build_vignettes = TRUE)
```

```{r}
library(tidyverse)
library(bouquet)
library(ggplot2)
```

```{r}
metadata <- read.csv("~/Desktop/GitHub/RMBLVolatile/Data/metadata.csv", header = TRUE)

metadata <- load_metadata(metadata, sample = "file_name", date = "date", group = c("species", "replicate"), type = "sample_type", amount = "mass")

```

```{r}
source("read_shimadzu.R")
output <- read.shimadzu("~/Desktop/GitHub/RMBLVolatile/Data/Batchrun2.txt")

longdata <- load_longdata(output, sample = "Filename", RT = "Ret.Time", 
                          name = "Name", area = "Area", 
                          match = "SI", maxmatch=100)

longdataclean <- longdata %>%
  select(sample, RT, name, area, match)

```


# 1. Clean batch file! 

```{r}
chemtable <- make_chemtable(longdataclean, metadata)
```



